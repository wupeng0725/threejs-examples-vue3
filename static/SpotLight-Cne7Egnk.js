import{S as M,P as y,W as _,a as b,A as L,O as P,g as C,b as E,M as H,c as h,d as z,e as A,i as W,j as G}from"./lil-gui.module.min-BuyC84Fv.js";import{r as k,o as I,a as R,c as B,b as F}from"./index-CYia1vO0.js";const q={__name:"SpotLight",setup(j){const o=k(null);let n,t,s,l,a;const u=()=>{t=new M,s=new y(45,window.innerWidth/window.innerHeight,.1,1e3),s.position.set(0,0,10),s.lookAt(0,0,0),n=new _,n.setSize(o.value.clientWidth,o.value.clientHeight),n.shadowMap.enabled=!0,n.shadowMap.type=b,o.value.appendChild(n.domElement);const i=new L(5);t.add(i);const m=new P(s,n.domElement);function p(){l=requestAnimationFrame(p),m.update(),n.render(t,s)}p(),a=new C;const x=new E(1,20,20),w=new H,r=new h(x,w);r.castShadow=!0,t.add(r);const S=new z(50,50),d=new h(S,w);d.position.set(0,-1,0),d.rotation.x=-Math.PI/2,d.receiveShadow=!0,t.add(d);const v=new A(16777215,.5);t.add(v);const e=new W(16777215,.5);e.position.set(5,5,5),e.castShadow=!0,e.intensity=2,e.shadow.radius=20,e.shadow.mapSize.set(1024,1024),e.target=r,e.angle=Math.PI/6,e.distance=0,e.penumbra=0,e.decay=0,t.add(e),a.add(r.position,"x").min(-5).max(5).step(.1),a.add(e,"angle").min(0).max(Math.PI/2).step(.01),a.add(e,"distance").min(0).max(10).step(.01),a.add(e,"penumbra").min(0).max(1).step(.01),a.add(e,"decay").min(0).max(5).step(.01);const g=new G(e.shadow.camera);t.add(g)},c=()=>{n.setSize(o.value.clientWidth,o.value.clientHeight),s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix()},f=()=>{o.value.removeChild(n.domElement),a==null||a.destroy(),l&&cancelAnimationFrame(l),window.removeEventListener("resize",c),t.traverse(i=>{i.isMesh&&(i.geometry.dispose(),i.material.dispose())}),n.dispose(),n.forceContextLoss(),n.domElement=null,n=null,t=null,s=null,a=null};return I(()=>{u(),window.addEventListener("resize",c)}),R(()=>{f()}),(i,m)=>(F(),B("div",{id:"container",ref_key:"containerRef",ref:o},null,512))}};export{q as default};
