import{S as z,P as C,W as E,a as L,A as P,O as b,g as k,b as x,M as A,c as p,d as W,e as B,f as G,h as H,C as R}from"./lil-gui.module.min-BuyC84Fv.js";import{r as F,o as I,a as O,c as U,b as j}from"./index-BhWwvkAk.js";const J={__name:"PointLight",setup(q){const i=F(null);let e,t,n,l,a;const M=()=>{t=new z,n=new C(45,window.innerWidth/window.innerHeight,.1,1e3),n.position.z=10,n.position.y=2,n.position.x=2,n.lookAt(0,0,0),e=new E,e.setSize(i.value.clientWidth,i.value.clientHeight),e.shadowMap.enabled=!0,e.shadowMap.type=L,i.value.appendChild(e.domElement);const s=new P(5);t.add(s);const h=new b(n,e.domElement),y=new R;a=new k;const S=new x(1,20,20),u=new A,c=new p(S,u);c.castShadow=!0,t.add(c);const g=new W(50,50),d=new p(g,u);d.position.set(0,-1,0),d.rotation.x=-Math.PI/2,d.receiveShadow=!0,t.add(d);const _=new B(16777215,.5);t.add(_);const r=new p(new x(.1,20,20),new G({color:16711680}));r.position.set(2,2,2);const o=new H(16711680,.5);o.castShadow=!0,o.intensity=2,o.shadow.radius=20,o.shadow.mapSize.set(1024,1024),o.decay=0,r.add(o),t.add(r),a.add(c.position,"x").min(-5).max(5).step(.1),a.add(o,"distance").min(0).max(10).step(.01),a.add(o,"decay").min(0).max(5).step(.01);function f(){let m=y.getElapsedTime();r.position.x=Math.sin(m)*3,r.position.z=Math.cos(m)*3,r.position.y=2+Math.sin(m*10)/2,h.update(),e.render(t,n),l=requestAnimationFrame(f)}f()},w=()=>{e.setSize(i.value.clientWidth,i.value.clientHeight),n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix()},v=()=>{i.value.removeChild(e.domElement),a==null||a.destroy(),l&&cancelAnimationFrame(l),window.removeEventListener("resize",w),t.traverse(s=>{s.isMesh&&(s.geometry.dispose(),s.material.dispose())}),e.dispose(),e.forceContextLoss(),e.domElement=null,e=null,t=null,n=null,a=null};return I(()=>{M(),window.addEventListener("resize",w)}),O(()=>{v()}),(s,h)=>(j(),U("div",{id:"container",ref_key:"containerRef",ref:i},null,512))}};export{J as default};
