import{L as q,F as I,S as V,B as H,V as G,a as B,E as A,W,P as j,b as D,C as N,D as U,c as k,d as J,e as K,f as Q,g as Z,h as E,I as $,i as X,j as Y,O as ee,k as te,l as ne,R as se,m as oe,n as F,T as ie,o as ae,p as re,q as ce,r as he,s as ue,t as de,u as le,M as _,v as me,w as pe,x as ge,y as we,z as fe,A as ye}from"./three-DttFUdCx.js";import{w as be}from"./index-bM0EArmZ.js";import{r as Se,o as ve,a as Me,c as xe,b as Te}from"./highlight-_NCVw0wD.js";class ze extends q{constructor(o){super(o)}load(o,s,h,d){const p=this,m=new I(this.manager);m.setPath(this.path),m.setRequestHeader(this.requestHeader),m.setWithCredentials(this.withCredentials),m.load(o,function(b){const w=p.parse(JSON.parse(b));s&&s(w)},h,d)}parse(o){return new Ce(o)}}class Ce{constructor(o){this.isFont=!0,this.type="Font",this.data=o}generateShapes(o,s=100){const h=[],d=Ge(o,s,this.data);for(let p=0,m=d.length;p<m;p++)h.push(...d[p].toShapes());return h}}function Ge(T,o,s){const h=Array.from(T),d=o/s.resolution,p=(s.boundingBox.yMax-s.boundingBox.yMin+s.underlineThickness)*d,m=[];let b=0,w=0;for(let y=0;y<h.length;y++){const f=h[y];if(f===`
`)b=0,w-=p;else{const r=Pe(f,d,b,w,s);b+=r.offsetX,m.push(r.path)}}return m}function Pe(T,o,s,h,d){const p=d.glyphs[T]||d.glyphs["?"];if(!p)return;const m=new V;let b,w,y,f,r,g,v,S;if(p.o){const a=p._cachedOutline||(p._cachedOutline=p.o.split(" "));for(let i=0,x=a.length;i<x;)switch(a[i++]){case"m":b=a[i++]*o+s,w=a[i++]*o+h,m.moveTo(b,w);break;case"l":b=a[i++]*o+s,w=a[i++]*o+h,m.lineTo(b,w);break;case"q":y=a[i++]*o+s,f=a[i++]*o+h,r=a[i++]*o+s,g=a[i++]*o+h,m.quadraticCurveTo(r,g,y,f);break;case"b":y=a[i++]*o+s,f=a[i++]*o+h,r=a[i++]*o+s,g=a[i++]*o+h,v=a[i++]*o+s,S=a[i++]*o+h,m.bezierCurveTo(r,g,v,S,y,f);break}}return{offsetX:p.ha*o,path:m}}class Re extends H{constructor(o=(d,p,m)=>m.set(d,p,Math.cos(d)*Math.sin(p)),s=8,h=8){super(),this.type="ParametricGeometry",this.parameters={func:o,slices:s,stacks:h};const d=[],p=[],m=[],b=[],w=1e-5,y=new G,f=new G,r=new G,g=new G,v=new G,S=s+1;for(let a=0;a<=h;a++){const i=a/h;for(let x=0;x<=s;x++){const c=x/s;o(c,i,f),p.push(f.x,f.y,f.z),c-w>=0?(o(c-w,i,r),g.subVectors(f,r)):(o(c+w,i,r),g.subVectors(r,f)),i-w>=0?(o(c,i-w,r),v.subVectors(f,r)):(o(c,i+w,r),v.subVectors(r,f)),y.crossVectors(g,v).normalize(),m.push(y.x,y.y,y.z),b.push(c,i)}}for(let a=0;a<h;a++)for(let i=0;i<s;i++){const x=a*S+i,c=a*S+i+1,P=(a+1)*S+i+1,n=(a+1)*S+i;d.push(x,c,n),d.push(c,P,n)}this.setIndex(d),this.setAttribute("position",new B(p,3)),this.setAttribute("normal",new B(m,3)),this.setAttribute("uv",new B(b,2))}copy(o){return super.copy(o),this.parameters=Object.assign({},o.parameters),this}}class Be extends A{constructor(o,s={}){const h=s.font;if(h===void 0)super();else{const d=h.generateShapes(o,s.size);s.depth===void 0&&(s.depth=50),s.bevelThickness===void 0&&(s.bevelThickness=10),s.bevelSize===void 0&&(s.bevelSize=8),s.bevelEnabled===void 0&&(s.bevelEnabled=!1),super(d,s)}this.type="TextGeometry"}}const _e={__name:"PrimitivesGeometry",setup(T){const o=Se(null);let s=null,h=null,d=null,p=null,m=[];function b(){s=new W({canvas:o.value,antialias:!0});const r=40,g=window.innerWidth/window.innerHeight,v=.1,S=1e3;h=new j(r,g,v,S),h.position.z=120,d=new D,d.background=new N(11184810);{const n=new U(16777215,3);n.position.set(-1,2,4),d.add(n)}const a=15;function i(n,e,t){t.position.x=n*a,t.position.y=e*a,d.add(t),m.push(t)}function x(){const n=new fe({side:ye}),e=Math.random();return n.color.setHSL(e,1,.5),n}function c(n,e,t){const l=new _(t,x());i(n,e,l)}function P(n,e,t){const l=new ge({color:0}),u=new we(t,l);i(n,e,u)}c(-2,2,new k(8,8,8)),c(-1,2,new J(7,24)),c(0,2,new K(6,8,16)),c(1,2,new Q(4,4,8,12)),c(2,2,new Z(7));{const n=new E,e=-2.5,t=-5;n.moveTo(e+2.5,t+2.5),n.bezierCurveTo(e+2.5,t+2.5,e+2,t,e,t),n.bezierCurveTo(e-3,t,e-3,t+3.5,e-3,t+3.5),n.bezierCurveTo(e-3,t+5.5,e-1.5,t+7.7,e+2.5,t+9.5),n.bezierCurveTo(e+6,t+7.7,e+8,t+4.5,e+8,t+3.5),n.bezierCurveTo(e+8,t+3.5,e+8,t,e+5,t),n.bezierCurveTo(e+3.5,t,e+2.5,t+2.5,e+2.5,t+2.5);const l={steps:2,depth:2,bevelEnabled:!0,bevelThickness:1,bevelSize:1,bevelSegments:2};c(-2,1,new A(n,l))}c(-1,1,new $(7));{const n=[];for(let e=0;e<10;++e)n.push(new X(Math.sin(e*.2)*3+3,(e-5)*.8));c(0,1,new Y(n))}c(1,1,new ee(7));{let n=function(l,u,M){u*=Math.PI,l*=2*Math.PI,u=u*2;let C,z;u<Math.PI?(C=3*Math.cos(u)*(1+Math.sin(u))+2*(1-Math.cos(u)/2)*Math.cos(u)*Math.cos(l),z=-8*Math.sin(u)-2*(1-Math.cos(u)/2)*Math.sin(u)*Math.cos(l)):(C=3*Math.cos(u)*(1+Math.sin(u))+2*(1-Math.cos(u)/2)*Math.cos(l+Math.PI),z=-8*Math.sin(u));const R=-2*(1-Math.cos(u)/2)*Math.sin(l);M.set(C,R,z).multiplyScalar(.75)};const e=25,t=25;c(2,1,new Re(n,e,t))}c(-2,0,new te(9,9,2,2));{const n=[-1,-1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1],e=[2,1,0,0,3,2,0,4,7,7,3,0,0,1,5,5,4,0,1,2,6,6,5,1,2,3,7,7,6,2,4,5,6,6,7,4],t=7,l=2;c(-1,0,new ne(n,e,t,l))}c(0,0,new se(2,7,18));{const n=new E,e=-2.5,t=-5;n.moveTo(e+2.5,t+2.5),n.bezierCurveTo(e+2.5,t+2.5,e+2,t,e,t),n.bezierCurveTo(e-3,t,e-3,t+3.5,e-3,t+3.5),n.bezierCurveTo(e-3,t+5.5,e-1.5,t+7.7,e+2.5,t+9.5),n.bezierCurveTo(e+6,t+7.7,e+8,t+4.5,e+8,t+3.5),n.bezierCurveTo(e+8,t+3.5,e+8,t,e+5,t),n.bezierCurveTo(e+3.5,t,e+2.5,t+2.5,e+2.5,t+2.5),c(1,0,new oe(n))}c(2,0,new F(7,32,16)),c(-2,-1,new ie(7));{let e=function(l){return new Promise((u,M)=>{n.load(l,u,void 0,M)})};const n=new ze;async function t(){const l=await e(be("/fonts/helvetiker_regular.typeface.json")),u=new Be("three.js",{font:l,size:3,depth:.2,curveSegments:12,bevelEnabled:!0,bevelThickness:.15,bevelSize:.3,bevelSegments:5}),M=new _(u,x());u.computeBoundingBox(),u.boundingBox.getCenter(M.position).multiplyScalar(-1);const C=new me;C.add(M),i(-1,-1,C)}t()}c(0,-1,new ae(5,2,8,24)),c(1,-1,new re(3.5,1.5,64,8,2,3));{class n extends pe{constructor(z){super(),this.scale=z}getPoint(z){const R=z*3-1.5,L=Math.sin(2*Math.PI*z),O=0;return new G(R,L,O).multiplyScalar(this.scale)}}const e=new n(4),t=20,l=1,u=8,M=!1;c(2,-1,new ce(e,t,l,u,M))}P(-1,-2,new he(new k(8,8,8),1)),P(1,-2,new ue(new k(8,8,8)));{const l=new F(7,12,8),u=new de({color:"red",size:3,sizeAttenuation:!1}),M=new le(l,u);i(0,-2,M)}}function w(r){const g=r.domElement,v=window.devicePixelRatio,S=Math.floor(g.clientWidth*v),a=Math.floor(g.clientHeight*v),i=g.width!==S||g.height!==a;return i&&r.setSize(S,a,!1),i}function y(r){if(r*=.001,m.forEach((g,v)=>{const S=.1+v*.05,a=r*S;g.rotation.x=a,g.rotation.y=a}),w(s)){const g=s.domElement;h.aspect=g.clientWidth/g.clientHeight,h.updateProjectionMatrix()}s.render(d,h),p=requestAnimationFrame(y)}const f=()=>{p&&cancelAnimationFrame(p);for(const r of m)d.remove(r);d.traverse(r=>{r.isMesh&&(r.geometry.dispose(),r.material.dispose())}),s.dispose(),s.forceContextLoss(),s.domElement=null,s=null,d=null,h=null,m=[],o.value=null};return ve(()=>{b(),requestAnimationFrame(y)}),Me(()=>{f()}),(r,g)=>(Te(),xe("canvas",{ref_key:"canvasRef",ref:o},null,512))}};export{_e as default};
